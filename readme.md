#Twins
---
##Что это? 
Twins - фреймворк для работы с графическими элементами для OpenComputers.

##Для чего подойдёт? 
С помощью фреймворка возможно создавать программы с графическим интерфейсом с минимальным вмешательством фреймворка в приложение (если программа написана в нормальном виде, подключение графического интерфейса не будет требовать переработки кода, а только дополнения). 

Фреймворк можно запустить на OpenOS-подобных системах со стандартным набором библиотек, однако, может быть портирована с помощью дополнительных модификаций. 

##Особенности:

- имеет "классовый" вид хранения элементов: доступные для работы элементы хранятся в виде экземпляров. При создании любого элемента на экране, он может быть загружен из экземпляра, а затем его свойства будут дополнены/переопределены из пользовательского кода.
- лёгкая для понимания система организации свойств элемента: все классы элементов построены по одному шаблону, имеют возможность изменения и добавления свойств уже созданных элементов "на лету". 
- встроенная оптимизация отрисовки: элементы, которые не были изменены, перерисовываться не будут (только для общей отрисовки). 
- событийная архитектура работы: весь функционал библиотеки во время работы (помимо инициализации) распределен на события, а значит, не требуется писать свои обработчики внутри программы. Основной поток выполнения можно занять другим кодом. 
- возможность использовать собственный цикл программы, помимо встроенного. 
- имеет встроенную систему позиционирования элементов на экране.
- изолированность: может быть запущен на любом контейнере, предоставляющим методы стандартной видеокарты (например, на контейнере с двойной буферизации для повышения производительности).

#С чего начать?
##Установка
Установить библиотеку можно с помощью следующей команды:

`
wget https://raw.githubusercontent.com/HiKT0/twins/main/install.lua /tmp/twins.lua -f && /tmp/twins.lua && del /tmp/twins.lua
`

Данная команда загрузит сгенерированный файл установщика с последней сборкой библиотеки в формате LuaSFS (serialized filesystem), затем распакует её и удалит себя. По завершении работы в системе будет доступна последняя версия Twins.
##Подключение
Библиотека, как и другие, подключается через `require`:

```lua
local twins = require("twins") --подключение
twins.base.button() --создание кнопки из стандартного набора элементов
twins.main() --запуск
```

В скрипте показан минимизированный цикл инициализации графического интерфейса.
##Свойства элемента
Элемент создаётся с набором свойств, указанных в его классе.  Однако, есть возможность указать свойства самостоятельно с помощью передачи таблицы в аргументы функции, с помощью которой осуществляется создание элемента:

```lua
twins.base.button({x=5, y=10, text="я кнопка"}) 
```

Из данной таблицы пары ключ-значение будут скопированы в новый созданный элемент. Таким образом создаётся свой "синтаксис", с помощью которого можно осуществлять разметку графического интерфейса. К тому же, есть возможность определить свойства элемента как и у любой таблицы:

```lua
local my_button = twins.base.button()
my_button.text = "я тоже"
```
#Система позиционирования
Базовая комплектация Twins включает в себя систему позиционирования элементов на экране и систему группового позиционирования элементов. Определять каждому элементу его координаты - ужасно, особенно если они вычисляются на ходу. Типовые операции по вычислению координат каждого элемента уже прописаны в системе. Write less, do more.
##Глобальное позиционирование
Модуль: `twins.sps` (от screen positioning system).
Позволяет вычислять координаты для элементов на экране, учитывая их размеры. Умеет:

- twins.sps.left - прилипание элемента к левому краю
- twins.sps.right - к правому краю
- twins.sps.up - к верху
- twins.sps.down - к низу
